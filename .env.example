# Example .env for OpenDiscourse + auxiliary stacks (Nextcloud, WireGuard, LAMP)
# Copy to .env and fill sensitive values. Do NOT commit secrets to VCS.

# Basic site info
DOMAIN=example.com
EMAIL=admin@example.com

# Postgres (OpenDiscourse)
POSTGRES_USER=opendiscourse
POSTGRES_PASSWORD=change_me_secure_password
POSTGRES_DB=opendiscourse

# Redis
REDIS_PASSWORD=change_me_redis_password

# JWT / secrets
JWT_SECRET=change_me_jwt_secret

# Traefik basic auth
TRAEFIK_USER=traefikadmin
TRAEFIK_PASSWORD=change_me_traefik_password

# SMTP (for transactional email)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=user@example.com
SMTP_PASSWORD=smtp_password_here
SMTP_FROM=noreply@example.com

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_grafana_password

# Uploads and storage
UPLOAD_DIR=/var/lib/opendiscourse/uploads
MAX_UPLOAD_SIZE=100M

# Backup / restic / MinIO (optional)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change_me_minio_password
MINIO_BUCKET=opendiscourse-backup
RESTIC_REPO=s3:https://s3.${DOMAIN}/${MINIO_BUCKET}
RESTIC_PASSWORD=change_me_restic_password

# Nextcloud DB (used by deploy/stacks/nextcloud)
NEXTCLOUD_DB_NAME=nextcloud
NEXTCLOUD_DB_USER=nextcloud
NEXTCLOUD_DB_PASSWORD=change_me_nextcloud_db_password
NEXTCLOUD_DB_ROOT_PASSWORD=change_me_nextcloud_root_password
NEXTCLOUD_REDIS_PASSWORD=change_me_nextcloud_redis_password

# WireGuard
PUID=1000
PGID=1000
TZ=UTC
WG_SERVER_URL=your.domain.or.ip
WG_SERVER_PORT=51820
WG_PEERS=1
WG_PEER_DNS=1.1.1.1
WG_INTERNAL_SUBNET=10.13.13.0/24

# LAMP stack DB
LAMP_DB_NAME=lampdb
LAMP_DB_USER=lampuser
LAMP_DB_PASSWORD=change_me_lamp_password
LAMP_DB_ROOT_PASSWORD=change_me_lamp_root_password
LAMP_HOST=lamp.${DOMAIN}

# Optional: OAuth / GitHub for oauth2-proxy (fill before enabling)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
OAUTH2_PROXY_COOKIE_SECRET=
OAUTH_ALLOWED_EMAILS=

# Optional: Cloudflare API token used by the one-click installer (if you want DNS automation)
CF_API_TOKEN=

# Limits and tuning
APP_MAX_WORKERS=4
DB_SHARED_BUFFERS=512MB

# Placeholder for any additional variables expected by installer scripts
# e.g., SUPABASE_JWKS_URL, NEO4J_PASS, MINIO credentials, etc.

# End of file